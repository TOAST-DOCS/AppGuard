## Security > NHN AppGuard > 콘솔 사용 가이드

NHN AppGuard는 Android 버전과 iOS 버전이 있습니다.

Android 버전은 SDK 연동(선택 사항) 후 빌드된 apk 파일을 Web Console 또는 CLI를 통해 앱 보호 작업(필수 사항)을 하면 적용됩니다.
iOS는 SDK 연동(필수 사항)과 빌드된 IPA 파일을 Web console 또는 CLI에서 보호 작업(선택 사항)을 통해 적용할 수 있습니다. Web console 또는 CLI를 사용하여 보호 작업을 수행할 경우에만 일부 보호 기능(무결성 검증, 서명자 검증, 기본 정책 적용, 난독화, 플랜 적용)을 활성화할 수 있습니다.
* 보호 작업을 수행하지 않으면 Business 플랜으로 동작합니다.
Unity 버전은 Android/iOS 앱을 손쉽게 보호할 수 있는 편의 기능을 제공합니다(Android 앱은 필수 사항, iOS 앱은 선택 사항). 또한 Android SDK와 iOS SDK를 별도로 다운로드 받지 않아도 적용이 가능합니다(Android는 선택 사항, iOS는 필수 사항).

NHN AppGuard의 사용을 위한 적용 단계는 다음과 같습니다.

![[그림 1] NHN AppGuard 적용 방법](http://static.toastoven.net/prod_appguard/AppGuard_3_overview01.png)

## 대시보드

앱 보호 작업이 완료된 앱을 앱 스토어에 배포 후 어뷰징 유저가 탐지되면 밑 그림의 **대시보드** 탭에서 현황을 확인 할 수 있습니다.

![appguard_01_202104](http://image.toast.com/aaaaaha/console-guide/1_1_%EB%8C%80%EC%8B%9C%EB%B3%B4%EB%93%9C_ko.png)

- **이상 행위 탐지 현황** 은 NHN AppGuard가 탐지한 어뷰징 사용자를 **로그 탐지 패턴**, **기간별** 기준 시도 순서로 확인할 수 있습니다.
- **이상 행위 탐지 현황** 의 결과는 우측 상단의 **보고서 다운로드(Excel)** 버튼을 클릭하여 다운로드할 수 있습니다.
- **대시보드** 는 NHN AppGuard가 탐지한 어뷰징 사용자의 통계 그래프와 리스트를 검색할 수 있습니다.
    - 루팅의 경우, 앱 설치 후 하루 1회 탐지 또는 제재로그를 대시보드에서 확인할 수 있습니다.
- **유저 ID**, **디바이스 ID**, **로그 탐지 횟수**, **로그 탐지 패턴**, **조회기간**으로 **검색**할 수 있습니다.
    - **유저 ID** 와 **디바이스 ID** 는 콤마로 구분하여 여러 개의 조건을 추가할 수 있습니다.
- 탐지 통계 그래프는 '탐지 패턴별 비율'과 기간별 '탐지 로그 증감 현황'을 확인 할 수 있습니다.
- 탐지 목록은 유저 ID와 디바이스 ID, Host IP, OS, 로그, 앱 정보 및 시각이 나타납니다.
- 검색 결과는 **보고서 다운로드(Excel)** 버튼을 클릭하여 다운로드가 가능합니다.

## 앱 보호

### SDK 다운로드 및 연동

**앱 보호** 메뉴를 선택하고 **SDK 다운로드** 버튼을 누르면 OS별 SDK를 다운로드 받을 수 있습니다.

SDK를 다운로드 받은 후 첨부 되어 있는 매뉴얼에 따라 연동합니다.

### 앱 보호 메뉴 선택

**앱 보호** 메뉴 선택 후 **+ 앱 보호** 버튼을 클릭하면 다음과 같은 화면이 나옵니다.

![appguard_02_202104](http://image.toast.com/aaaaaha/console-guide/2_1_%EC%95%B1%EB%B3%B4%ED%98%B8_ko.png)

* [인증서] 파일을 선택합니다. 안드로이드는 KeyStore파일입니다.
* [마스터 비밀번호]를 입력하고 [유효성 검사] 버튼을 클릭하여 인증서 파일의 유효성을 검사합니다.
    - 이 검사 작업은 앱 보호 작업 전 KeyStore의 유효성과 적절한 앨리어스를 선택하기 위함입니다.
    - 유효성 검사 실패시, 인증서 파일 정상 여부와 마스터 비밀번호를 확인 합니다.
* [앨리어스]명을 선택합니다.
* [앨리어스 비밀번호]를 입력합니다.
* [보호할 앱]을 선택합니다.
* [보호 레벨]을 선택합니다.
    - Level1 : 앱에 대한 비정상 행위 및 패턴 기반의 기본 보안 탐지 기능
    - Level2 : Level1 + 코드 암호화, 앱 변조 방지 등 향상된 보안 기능 (일반앱 권장)
    - Level3 : Level2 + 강화된 보안 기능 (게임앱 권장)
* [릴리즈 버전]을 선택합니다.
* **확인** 버튼을 클릭하여 앱 보호를 합니다.
    - 앱 보호가 끝나면 보호가 된 앱을 다운로드 받을 수 있습니다. 이제 보호가 된 배포 파일을 각 앱스토어에 올려서 배포하면 됩니다.
* 앱 보호 작업 수단: Console, CLI(Command Line Interface)

## 정책

NHN AppGuard 작동 중 코드, 메모리, 속도 조작 시도 탐지 시 취해야 할 차단 정책을 설정할 수 있으며, '조건 차단' 시 임계치 기반으로 차단 조건을 설정할 수 있습니다.

![appguard_03_202104](http://image.toast.com/aaaaaha/console-guide/3_1_%EC%A0%95%EC%B1%85_ko.png)

'전체 차단'으로 설정된 정책으로 탐지될 경우, NHN AppGuard 안내 창이 나타나고 앱이 종료됩니다.
'조건 차단'시 설정한 조건으로 탐지될 경우, NHN AppGuard 안내 창이 나타나고 앱이 종료됩니다.
제재에 대한 내용은 SDK에 포함된 "NHN AppGuard Developer's Guide" 문서를 참고 바랍니다.

### 변경 이력

정책을 변경하고 저장할 때, 언제 누가 어떻게 변경했는지 이력을 관리할 수 있습니다.

![appguard_04_202104](http://image.toast.com/aaaaaha/console-guide/3_2_%EC%A0%95%EC%B1%85%20%EB%B3%80%EA%B2%BD%EC%9D%B4%EB%A0%A5_ko.png)

### 조건 추가

**정책** 메뉴 선택 후, 각 탐지 종류별 **조건 차단** 버튼을 클릭하면 다음과 같은 화면이 나타납니다.

![appguard_05_202104](http://image.toast.com/aaaaaha/console-guide/3_3_%EC%A0%95%EC%B1%85%20%EC%A1%B0%EA%B1%B4%EC%B6%94%EA%B0%80_ko.png)

* **차단 기준** 을 선택합니다.
* **국가 정보** 를 선택합니다.
* **탐지 횟수** 를 입력합니다.
    - 루팅의 경우, 탐지 횟수는 1회로 설정됩니다.
* **차단 기간(일)** 을 선택합니다.
* **추가** 버튼을 클릭하여 조건을 추가합니다.
* **조건 차단** 버튼이 활성화된 상태로 **저장** 버튼을 클릭하여 조건을 적용합니다.
    - 전날 누적된 탐지 로그를 기반으로 조건이 적용되며, 처음 조건 적용까지는 최대 10분이 소요됩니다.
    - 이후 매일 00시 05분에 전날 누적된 탐지 로그를 기반으로 조건이 새로 적용됩니다.

### 조건 확인

![appguard_06_202104](http://image.toast.com/aaaaaha/console-guide/3_4_%EC%A0%95%EC%B1%85%20%EC%A1%B0%EA%B1%B4%ED%99%95%EC%9D%B8_ko.png)

* **조건 차단** 버튼 옆 **▼** 버튼을 클릭하여 추가된 조건을 확인할 수 있습니다.

## 블랙리스트

NHN AppGuard에서 제공하는 디바이스 ID와 SDK 연동 시 사용할 수 있는 유저 ID를 등록하여, 특정 기기와 사용자를 블랙리스트로 관리합니다.

![appguard_07_202104](http://image.toast.com/aaaaaha/console-guide/4_1_%EB%B8%94%EB%9E%99%EB%A6%AC%EC%8A%A4%ED%8A%B8_ko.png)

### 블랙리스트 등록

**블랙리스트** 메뉴 선택 후, **등록** 버튼을 클릭하면 다음과 같은 화면이 나타납니다.

![appguard_08_202104](http://image.toast.com/aaaaaha/console-guide/4_2_%EB%B8%94%EB%9E%99%EB%A6%AC%EC%8A%A4%ED%8A%B8%20%EB%93%B1%EB%A1%9D_ko.png)

* **등록 아이디** 를 선택합니다.
* **아이디 유형** 을 선택합니다.
* **등록 사유** 를 입력합니다.
* **차단 기간(일)** 을 선택합니다.
* **등록** 버튼을 클릭하여 블랙리스트를 등록합니다.
* 등록된 블랙리스트 아이디로 앱을 실행하면 차단기간동안 NHN AppGuard 안내 창이 나타나고 앱이 종료됩니다.

### 블랙리스트 해제

**블랙리스트** 메뉴 선택 후, 등록된 블랙리스트의 **해제** 버튼을 클릭하면 다음과 같은 화면이 나타납니다.

![appguard_09_202104](http://image.toast.com/aaaaaha/console-guide/4_3_%EB%B8%94%EB%9E%99%EB%A6%AC%EC%8A%A4%ED%8A%B8%20%ED%95%B4%EC%A0%9C_ko.png)

* **해제** 버튼을 클릭하여 등록된 블랙리스트를 해제합니다.
* 해제된 블랙리스트 아이디로 앱을 실행하면 NHN AppGuard에서 앱을 종료하지 않습니다.

### 블랙리스트 재등록

**블랙리스트** 메뉴 선택 후, 해제된 블랙리스트의 **재등록** 버튼을 클릭하면 다음과 같은 화면이 나타납니다.

![appguard_10_202104](http://image.toast.com/aaaaaha/console-guide/4_4_%EB%B8%94%EB%9E%99%EB%A6%AC%EC%8A%A4%ED%8A%B8%20%EC%9E%AC%EB%93%B1%EB%A1%9D_ko.png)

* **등록 사유** 와 **차단기간(일)** 을 수정합니다.
* **등록** 버튼을 클릭하여 블랙리스트를 수정한 내용으로 등록합니다.
* 재등록된 블랙리스트 아이디로 앱을 실행하면 차단기간동안 NHN AppGuard 안내 창이 나타나고 앱이 종료됩니다.